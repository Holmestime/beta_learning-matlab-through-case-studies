<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />


<title>Engineering Problem Solving: Sustainable Engineering Theme</title><link rel="stylesheet" href="css/style.css" /><!--[if lte IE 6]>
	<style type="text/css"> img { behavior: url('css/iepngfix.htc'); }</style>
	<link rel="stylesheet" type="text/css" href="css/ie_hacks.css" media="screen, projection" />
	<script type="text/javascript" src="js/iehover.js"></script>
<![endif]--><!--[if IE 7]>
	<link rel="stylesheet" type="text/css" href="css/ie_7.css" media="screen, projection" />
<![endif]--></head>

<body>

<div id="page">
	<div id="header">
		<div id="coe"></div>
        <div id="left"></div>
        <div id="right">
        </div>
        <div id="nav">
        <!--Navigation here, see navigation.pdf for details and instructions-->
        <ul class="menu-nav">
        	<li><a href="./ack.html" target="_self"><span>Acknowledgements</span></a></li>
			<li><a href="./future.html" target="_self"><span>Future</span></a></li>
			<li><a href="./people.html" target="_self"><span>People</span></a></li>
			<li><a href="./solar_mod.html" target="_self"><span>Solar Module</span></a></li>
			<li><a href="../syllabus.html" target="_self"><span>Material Download</span></a></li>
        	<li><a href="./index.html" target="_self"><span>About</span></a></li>
        </ul>
        </div> <!--end navigation-->
	</div> <!--end header wrapper-->

    <div id="mainbody" class="clear clearfix">
    <div class="inside">
This page maintains the necessary documentation (hardware &amp;
software) for recreating the Solar Hardware Module ("Solar Module")
using either Arduino UNO or TI Launchpad.
<br />
<br />Prior to creating the solar module, we performed several
experiments using a custom built solar panel fixture. For more
information on the solar panel fixture, see link below.
<a href="./solar_char.html" target="_self"><span>Solar Panel Fixture</span></a>
<br />
<br />
<h1>Solar Module</h1>A Solar Module hardware was designed to provide
hands-on experience for beginning undergraduate engineering students.
Hands-on experience includes programming hardware for data collection
and sampling, and setting up and programming simple sensor networks for
coopertive sensing.
Finally, students learn statistical methods to analyze the collected
data.
<br />
<br />Two versions of the solar module are built: Arduino-based and
MSP430 Launchpad-based. Arduino UNO was selected for its wide community
support and ease of hardware/software development. MSP430-based
solution was
<br />
<br />

<h1>Solar Sensor Module - MSP430-based, Wireless (In Progress)</h1>
<br />MSP430-based design was developed for its low power consumption
and low cost. Hence the TI Launchpad was considered. In addition,
MSP430-based wireless module was also available which made the
Launchpad even more attractive due to uniformity in the hardware and
the development environment.
<br />
<br />
The wireless sensor module is based on the Texas Instrument (TI) <a href="http://www.ti.com/ww/en/launchpad/msp430_head.html">Launchpad</a> and the <a href="http://www.ti.com/tool/ez430-rf2500">Wireless Development Tool</a>.
Both boards are based on the MSP430 low power microcontroller and can
be programmed using a single development tool. The wireless interface
allows biderational communication between the sensor and the
gateway/host computer. The sensor senses the output of a small solar
cell on board. The small solar cell is connected to a load, which is
emulated by a digital potentiometer. The voltage across the digital
potentiometer is sampled and digitized by the internal ADC on the
MSP430 on the Launchpad. Finally, the sample is then transmitted to the
gateway via the wireless interface.
<br />
<br />The wireless interface communicates with the host computer using
the CC2500 chip, operating in the 2.4 GHz ISM band. The digital
potentiometer (Maxim DS1803) is controlled by the MSP430 via the I2C
interface. The entier sensor node is powered by a single 9V battery.
<br />
<br />On the host computer, transmitted sensor data is received by the
USB dongle (part of the TI Wireless Development Tool) and converted
back to serial data. The USB port is emulating a serial terminal. The
serial data is then read and processed by student-written MATLAB code.
<br />
<br />
Information on the Wireless Solar Module is below.
<br />


<h2>Hardware</h2>
<a href="http://www.ti.com/tool/msp-exp430g2">TI MSP430 Launchpad</a> -- information on the Launchpad.<br />
<a href="http://www.ti.com/tool/ez430-rf2500">TI Wireless Development Tool</a> -- information on the wireless interface hardware.<br />
<a href="Photos/wireless_sch.png">Schematic</a> -- schematic for constructing the wireless sensor module.<br />
<a href="Photos/wireless_blk_diag.png">Block Diagram</a> -- block diagram for the wireless sensor module.<br />
<a href="Photos/wireless_BOM.pdf">BOM</a> -- bill of materials for the wireless sensor module.<br />

<br />
<h2>Software</h2>
Programming using <a href="http://energia.nu/">Energia</a> software.
<!--<a href="files/wireless.pdf">-->Code for the Launchpad.<br />
<!--<a href="files/wireless_schematic.pdf">-->Code for the Wireless Module.<br />
<!--<a href="files/wireless_schematic.pdf">-->MATLAB Class.<br />

<br />
<h2>Picture of the MSP430 Wireless Solar Sensor</h2>Launchpad is on the
bottom. The board on the top is a custom daughter board/shield
containing solar cell, digital potentiometer, 9V battery, and
connection to wireless module.
<img src="Photos/msp430_wireless_solar_sensor_left.JPG" height="300" width="400" />
<p>Side view 1.</p>

<img src="Photos/msp430_wireless_solar_sensor_right.JPG" height="300" width="400" />
<p>Side view 2.</p>

<img src="Photos/msp430_wireless_solar_sensor_top.JPG" height="300" width="400" />
<p>Top view.</p>






<br />
<br />
<h1>Solar Sensor Module - Arduino UNO-based (Completed)</h1>An
Arduino-based solar sensor module was built so students can obtain
hands-on experience with controlling hardware, taking measurements from
hardware, and perform analysis on measured data.
<br />
<br />The hardware module consists of Arduino UNO board, small solar
cell, and a digital potentiometer (load for the solar cell). The
potentiometer is controlled by the Arduino through I2C.
<br />The Arduino communicates with the host computer through a serial
interface emulated on the USB port. The Arduino is also powered from
the USB port and it runs the Arduino server code (adiosrv.ino). The
server code is based on the code available <a href="http://www.mathworks.com/matlabcentral/fileexchange/32374">here</a>.
<br />
<br />
HOW TO build your own Arduino-based Solar Module:
<ol>
<li>Purchase an Arduino UNO shield protoboard, or cut a perforated board into the same dimension as the UNO. </li>
<li>Insert the bare single-row headers onto both sides of the UNO.
Place a perforated board into the UNO such that the single-row headers
are inserted into the perforated board. Solder the single row headers
into the perf. board. Cut the perf. board into the appropriate
dimension. (You may also wish to subsititute the perf. board with the
UNO shield proto. board)</li>
<li>Solder the DS1803 potentiometer onto the perf. board.</li>
<li>Solder the solar cell receptacle onto the perf. board.</li>
<li>Solder the open circuit jumper onto the perf. board.</li>
<li>Solder the appropriate connections to the DS1803 potentiometer. See <a href="Photos/diagram.pdf">connection diagram</a>.</li>
<li>Solder the appropriate connections (using short jumper wires) to
the single-row header. Pins A4 and A5 are the two wire interface pins.
Pin A0 is the ADC input which connects directly to one terminal of the
solar cell receptable. The other end of the solar cell receptable
connects to one terminal of the open circuit jumper.</li>
<li>Build the solar cell by soldering lead wires to the solar cell and assembling the connector for the two lead wires.</li>
<li>Program the Arduino UNO with the <a href="files/Solar_Cell_Characterization/adiosrv.ino" target="_blank">modified Arduino server</a>.</li>
<li>Download the <a href="files/Solar_Cell_Characterization/arduino.m" target="_blank">modified Arduino MATLAB class</a> and run the <a href="files/Solar_Cell_Characterization/ard_sweep.m" target="_blank">sample code</a> (Make sure to check which COM port the UNO is using).
</li><li>You are done!</li>
</ol>
<br />

<br />
<br />
Information on the Arduino Solar Module is below.
<br />


<h2>Hardware</h2>
<a href="Photos/diagram.pdf">Connection Diagram</a> -- connection diagram of the Arduino Solar Module.<br />
<a href="Photos/build_test_plan.pdf">Build and Test Plan</a> -- plan to build and test the 40 modules.<br />
<a href="Photos/BOM.pdf">Bill of Materials</a> -- BOM for building 40 Arduino Solar Modules.<br />
<a href="Photos/DS1803.pdf">Digital Potentiometer Datasheet</a> --
Maxim DS1803. Caution!! the DS1803 cannot sustain large wiper current
(must be &lt; 1mA) produced by solar cell under bright sunlight! Must
configure one potentiometer for limiting current!<br />
<a href="Photos/AD5161.pdf">AD5161 Digital Potentiometer Datasheet</a> -- AD5161 is capable of sustaining 20mA of continuous wiper current, which is much better!<br />
<a href="http://www.solarbotics.com/product/scc2422/">24 x 22mm Monocrystalline Solar Cell - SCC2422 (does not come with connectors)</a>

<h2>Software</h2>
<a href="files/Solar_Cell_Characterization/adiosrv.ino" target="_blank">Modified Arduino server</a>
to interface with DS1803 through I2C. Modifications: code to setup WIRE
interface, and cases 50, 60, and 70 in the switch statement.<br />
<a href="files/Solar_Cell_Characterization/arduino.m" target="_blank">Modified Arduino MATLAB class</a> definition to interface w/DS1803. Added "pWrite" function<br />
<a href="files/Solar_Cell_Characterization/ard_sweep.m" target="_blank">Sample MATLAB code</a> to demonstrate a sweep using the hardware module.<br />


<h2>Getting Started</h2>
<a href="files/Solar_Cell_Characterization/Solar_Cell_Char.pdf">Lab exercise</a> to get started<br />
<a href="files/Solar_Cell_Characterization/Solar_Cell_Char_soln.zip">Solution (.zip) </a> to above lab.<br />
<a href="files/Solar_Cell_Characterization/HW7.pdf">Sample problems</a> to prepare for the solar cell characterization lab.  <br />

<h2>Links</h2>
<a href="http://www.arduino.cc/en/Main/ArduinoBoardUno">Arduino UNO Page - contains hardware information on the module</a><br />
<a href="http://arduino.cc/en/Main/Software">Arduino IDE Software (download)</a><br />
<a href="http://www.mathworks.com/academia/arduino-software/arduino-matlab.html">Arduino IO Package (download)</a><br />
<a href="http://www.mathworks.com/matlabcentral/fileexchange/27843-arduino-io-package-slides-and-examples">Arduino IO package: Slides and Examples</a><br />


<img src="./Photos/ard_40.jpg" height="300" width="400" />
<p>40 Arduino Solar Modules and Solar Cells with connectors built.</p>


<img src="./Photos/ard_w_cable.jpg" height="300" width="400" />
<p>Arduino Solar Module With USB Cable.</p>


<img src="./Photos/ard_w_cell.jpg" height="300" width="400" />
<p>Arduino Solar Module With Solar Cell and Digital Potentiometer.</p>


<img src="./Photos/ard.jpg" height="300" width="400" />
<p>Arduino Solar Module with Blue Jumper. The blue jumper disconnects the solar cell from the potentiometer.</p>





<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-31507016-1");
pageTracker._trackPageview();
} catch(err) {}</script>




<p></p>
<p>
<!-- CC BY_SA License - required by MathWorks -->
<a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/deed.en_US"><img alt="Creative
									     Commons
									     License" style="border-width: 0pt;" src="http://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br />This
work by <a xmlns:cc="http://creativecommons.org/ns#" href="http://www.ece.ucdavis.edu/%7Emcsg/sustainableENG6/" property="cc:attributionName" rel="cc:attributionURL">S. Hsu, A. Knoesen and
  R. Amirtharajah</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/deed.en_US">Creative
  Commons Attribution-ShareAlike 4.0 International License</a>. 



</p></div></div></div></body></html>